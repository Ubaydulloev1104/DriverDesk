<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DriverDesk.Pages.OrdersPage"
             Title="ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ°Ð·Ñ‹">

   <CollectionView x:Name="OrdersView"
                IsGrouped="True"
                SelectionMode="None">
    <CollectionView.GroupHeaderTemplate>
        <DataTemplate>
            <Frame BackgroundColor="#e0e0ff"
                   Padding="8"
                   CornerRadius="8"
                   HasShadow="False">
                <Label Text="{Binding Key, StringFormat='{0:dd MMMM yyyy}'}"
                       FontAttributes="Bold"
                       FontSize="18"
                       TextColor="DarkBlue"/>
            </Frame>
        </DataTemplate>
    </CollectionView.GroupHeaderTemplate>

    <CollectionView.ItemTemplate>
        <DataTemplate>
            <Frame Padding="10"
                   CornerRadius="10"
                   Margin="0,4"
                   BorderColor="LightGray"
                   HasShadow="True"
                   BackgroundColor="{Binding BackgroundColor}">
                <Grid ColumnDefinitions="Auto,*,Auto,Auto,Auto"
                      RowDefinitions="Auto,Auto,Auto"
                      ColumnSpacing="8"
                      RowSpacing="4">

                    <!-- Ð“Ð°Ð»Ð¾Ñ‡ÐºÐ° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ -->
                    <Label Text="âœ”"
                           FontSize="24"
                           VerticalOptions="Center"
                           HorizontalOptions="Start"
                           TextColor="Green"
                           IsVisible="{Binding IsCompleted}"/>

                    <!-- Ð˜Ð¼Ñ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° -->
                    <Label Grid.Column="1"
                           Text="{Binding CustomerName}"
                           FontAttributes="Bold"
                           FontSize="16"/>

                    <!-- Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° -->
                    <Label Grid.Row="1"
                           Grid.Column="1"
                           Text="{Binding CustomerPhone}"
                           FontAttributes="Italic"
                           TextColor="Blue"
                           FontSize="14"/>

                    <!-- ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð° -->
                    <Label Grid.Row="2"
                           Grid.Column="1"
                           Text="{Binding Description}"
                           FontSize="25"/>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð²Ð¾Ð½ÐºÐ° -->
                    <Button Grid.Column="2"
                            Grid.Row="2"
                            Text="ðŸ“ž"
                            FontSize="14"
                            WidthRequest="40"
                            Clicked="OnCallClicked"/>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ -->
                    <Button Grid.Column="3"
                            Grid.Row="2"
                            Text="Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"
                            FontSize="14"
                            Clicked="OnCompleteClicked"
                            IsVisible="{Binding ShowCompleteButton}"/>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¾Ð¿Ð»Ð°Ñ‡ÐµÐ½Ð¾ -->
                    <Button Grid.Column="4"
                            Grid.Row="2"
                            Text="ÐžÐ¿Ð»Ð°Ñ‡ÐµÐ½Ð¾"
                            FontSize="14"
                            Clicked="OnPaidClicked"
                            IsVisible="{Binding ShowPaidButton}"/>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ -->
                    <Button Grid.Column="4"
                            Grid.Row="1"
                            Text="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"
                            FontSize="14"
                            TextColor="Red"
                            Clicked="OnDeleteClicked"
                            IsVisible="{Binding ShowDeleteButton}"/>
                </Grid>
            </Frame>
        </DataTemplate>
    </CollectionView.ItemTemplate>
</CollectionView>

</ContentPage>
